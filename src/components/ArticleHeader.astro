---
import FormattedDate from "./FormattedDate.astro";

interface Props {
  title: string;
  description?: string;
  pubDate: Date;
  updatedDate?: Date;
  lang?: string;
  readingTime: number;
}

const { title, description, pubDate, updatedDate, lang = "ko", readingTime } = Astro.props;
---

<header class="article-header">
  <div class="article-meta">
    <time class="date">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
        <path
          d="M13 2H12V1C12 0.734784 11.8946 0.48043 11.7071 0.292893C11.5196 0.105357 11.2652 0 11 0C10.7348 0 10.4804 0.105357 10.2929 0.292893C10.1054 0.48043 10 0.734784 10 1V2H6V1C6 0.734784 5.89464 0.48043 5.70711 0.292893C5.51957 0.105357 5.26522 0 5 0C4.73478 0 4.48043 0.105357 4.29289 0.292893C4.10536 0.48043 4 0.734784 4 1V2H3C2.20435 2 1.44129 2.31607 0.87868 2.87868C0.316071 3.44129 0 4.20435 0 5V13C0 13.7956 0.316071 14.5587 0.87868 15.1213C1.44129 15.6839 2.20435 16 3 16H13C13.7956 16 14.5587 15.6839 15.1213 15.1213C15.6839 14.5587 16 13.7956 16 13V5C16 4.20435 15.6839 3.44129 15.1213 2.87868C14.5587 2.31607 13.7956 2 13 2ZM14 13C14 13.2652 13.8946 13.5196 13.7071 13.7071C13.5196 13.8946 13.2652 14 13 14H3C2.73478 14 2.48043 13.8946 2.29289 13.7071C2.10536 13.5196 2 13.2652 2 13V8H14V13Z"
          fill="currentColor"></path>
      </svg>
      <FormattedDate date={pubDate} lang={lang} />
    </time>
    <span class="separator">·</span>
    <span class="reading-time">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
        <path
          d="M8 0C3.58 0 0 3.58 0 8C0 12.42 3.58 16 8 16C12.42 16 16 12.42 16 8C16 3.58 12.42 0 8 0ZM8 14C4.69 14 2 11.31 2 8C2 4.69 4.69 2 8 2C11.31 2 14 4.69 14 8C14 11.31 11.31 14 8 14Z"
          fill="currentColor"></path>
        <path
          d="M8.5 4H7V9L11.25 11.52L12 10.25L8.5 8.15V4Z"
          fill="currentColor"></path>
      </svg>
      {readingTime}
      {lang === "ko" ? "분 소요" : "min read"}
    </span>
  </div>

  <h1 class="title">{title}</h1>

  {description && <p class="description">{description}</p>}

  {updatedDate && (
    <div class="updated-notice">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
        <path
          d="M8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16ZM8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2Z"
          fill="currentColor"
        />
        <path
          d="M11.7071 6.70711L7.5 10.9142L4.79289 8.20711L6.20711 6.79289L7.5 8.08579L10.2929 5.29289L11.7071 6.70711Z"
          fill="currentColor"
        />
      </svg>
      {lang === "ko" ? "업데이트" : "Updated on"}{" "}
      <FormattedDate date={updatedDate} lang={lang} />
    </div>
  )}

  <div class="divider"></div>
</header>

<style>
  .article-header {
    margin-bottom: 3rem;
  }

  .article-meta {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 0.9375rem;
    color: #6b7280;
    margin-bottom: 1.5rem;
  }

  .article-meta svg {
    width: 16px;
    height: 16px;
    margin-right: 0.375rem;
  }

  .date,
  .reading-time {
    display: flex;
    align-items: center;
  }

  .separator {
    color: #d1d5db;
  }

  .title {
    font-size: 2.75rem;
    font-weight: 900;
    line-height: 1.2;
    color: #1a1a1a;
    margin: 0 0 1rem 0;
    letter-spacing: -0.03em;
  }

  .description {
    font-size: 1.25rem;
    line-height: 1.6;
    color: #6b7280;
    margin: 0 0 1.5rem 0;
  }

  .updated-notice {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: #f0f9ff;
    border: 1px solid #bfdbfe;
    border-radius: 8px;
    font-size: 0.875rem;
    color: #1e40af;
    margin-bottom: 1.5rem;
  }

  .updated-notice svg {
    width: 16px;
    height: 16px;
    flex-shrink: 0;
  }

  .divider {
    width: 100%;
    height: 1px;
    background: linear-gradient(to right, transparent, #e5e7eb, transparent);
    margin: 2rem 0;
  }

  @media (max-width: 768px) {
    .title {
      font-size: 2rem;
    }

    .description {
      font-size: 1.125rem;
    }
  }
</style>